<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ğŸ“¢ Ø­Ø¯Ø« Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {font-family:'Cairo',sans-serif;background:#f9f9fb;color:#333;margin:0;padding:0;}
    .banner {background:linear-gradient(135deg,#2A4D9B,#7A77FF);color:#fff;text-align:center;padding:40px 20px;font-size:28px;font-weight:700;}
    .container {padding:20px;}
    h1 {text-align:center;color:#2A4D9B;margin:20px 0;}
    .card {background:#fff;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,0.08);padding:15px;margin-bottom:40px;}
    table {width:100%;border-collapse:collapse;}
    th,td {padding:10px;text-align:center;}
    th {background:#2A4D9B;color:#fff;}
    td {border-bottom:1px solid #eee;font-size:14px;}
    .scroll-table {max-height:400px;overflow:auto;}
    .progress {background:#eee;border-radius:8px;height:14px;overflow:hidden;}
    .bar {height:100%;background:#7A77FF;}
    .modal {display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);justify-content:center;align-items:center;}
    .modal-content {background:#fff;padding:20px;border-radius:16px;max-width:400px;width:90%;}
    .features{background:#f8f8f8;padding:10px;border-radius:10px;margin-top:10px;text-align:right;}
    .progress-section{margin:15px 0;}
    .progress-section div{margin:5px 0;font-size:14px;}
  </style>
</head>
<body>
  <div class="banner">ğŸ‰ Ø­Ø¯Ø« Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª ğŸ‰</div>

  <div class="container">
    <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª -->
    <h1>ğŸ“¢ Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª</h1>
    <div class="card">
      <table>
        <thead>
          <tr><th>Ø§Ù„ØªØ±Ù‚ÙŠØ©</th><th>Ø§Ù„Ø´Ø±ÙˆØ·</th><th>Ø§Ù„Ù…Ø²Ø§ÙŠØ§</th></tr>
        </thead>
        <tbody>
          <tr><td>Ù…Ø¨ØªØ¯Ø¦</td><td>0â€“10999 ÙØ§ØµÙˆÙ„ÙŠØ§ØŒ Ø¯Ø¹ÙˆØ© 1ØŒ ØªÙ‚ÙŠÙŠÙ… 0.5</td><td>2% Ù…ÙƒØ§ÙØ£Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø§ØªØ¨</td></tr>
          <tr><td>Ù…Ø­ØªØ±Ù</td><td>11000â€“49999 ÙØ§ØµÙˆÙ„ÙŠØ§ØŒ 2â€“3 Ø¯Ø¹ÙˆØ§ØªØŒ ØªÙ‚ÙŠÙŠÙ… 1â€“1.5</td><td>4% Ù…ÙƒØ§ÙØ£Ø©</td></tr>
          <tr><td>VIP</td><td>50000â€“99999 ÙØ§ØµÙˆÙ„ÙŠØ§ØŒ 3â€“5 Ø¯Ø¹ÙˆØ§ØªØŒ ØªÙ‚ÙŠÙŠÙ… 1.5â€“3</td><td>6% + ØªØ§Ø¬ Ù„Ù…Ø¯Ø© 7 Ø£ÙŠØ§Ù…</td></tr>
          <tr><td>VIP+</td><td>100000â€“219999 ÙØ§ØµÙˆÙ„ÙŠØ§ØŒ 6â€“8 Ø¯Ø¹ÙˆØ§ØªØŒ ØªÙ‚ÙŠÙŠÙ… 3â€“4</td><td>8% + ØªØ§Ø¬ 14 ÙŠÙˆÙ… + 500 ÙØ§ØµÙˆÙ„ÙŠØ§</td></tr>
          <tr><td>SVIP</td><td>220000â€“549999 ÙØ§ØµÙˆÙ„ÙŠØ§ØŒ 9â€“12 Ø¯Ø¹ÙˆØ§ØªØŒ ØªÙ‚ÙŠÙŠÙ… 4â€“5.5</td><td>8% + Ø§Ù„ÙÙ‡Ø¯ Ø§Ù„Ù…Ø·Ù„Ù‚</td></tr>
          <tr><td>SSVIP</td><td>550000â€“999999 ÙØ§ØµÙˆÙ„ÙŠØ§ØŒ 15â€“20 Ø¯Ø¹ÙˆØ§ØªØŒ ØªÙ‚ÙŠÙŠÙ… 5</td><td>9% + Ø§Ù„ØµÙ‚Ø± + Ù‚Ø³ÙŠÙ…Ø© 25$</td></tr>
          <tr><td>SSVIP Silver</td><td>1000000â€“4999999 ÙØ§ØµÙˆÙ„ÙŠØ§ØŒ 20 Ø¯Ø¹ÙˆØ©ØŒ ØªÙ‚ÙŠÙŠÙ… 5</td><td>12% + Ù‚Ø³ÙŠÙ…Ø© 100$</td></tr>
          <tr><td>SSVIP Gold</td><td>5000000â€“10000000 ÙØ§ØµÙˆÙ„ÙŠØ§ØŒ 20 Ø¯Ø¹ÙˆØ©ØŒ ØªÙ‚ÙŠÙŠÙ… 5</td><td>15% + Ù‚Ø³ÙŠÙ…Ø© 250$</td></tr>
        </tbody>
      </table>
    </div>

    <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø°ÙŠØ¹ÙŠÙ† -->
    <h1>ğŸ¤ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø°ÙŠØ¹ÙŠÙ†</h1>
    <div class="card scroll-table">
      <table id="broadcasterTable">
        <thead>
          <tr><th>Ø§Ù„Ø§Ø³Ù…</th><th>UID</th><th>Likee ID</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal" id="profileModal">
    <div class="modal-content">
      <h2 id="modalName"></h2>
      <p><b>UID:</b> <span id="modalUID"></span></p>
      <p><b>Likee ID:</b> <span id="modalLikee"></span></p>
      
      <div class="progress-section">
        <div>â±ï¸ Ø§Ù„Ø³Ø§Ø¹Ø§Øª <span id="labelHours"></span></div>
        <div class="progress"><div id="barHours" class="bar"></div></div>

        <div>ğŸ“… Ø§Ù„Ø£ÙŠØ§Ù… <span id="labelDays"></span></div>
        <div class="progress"><div id="barDays" class="bar"></div></div>

        <div>ğŸ™‹ Ø§Ù„Ø¯Ø¹ÙˆØ§Øª <span id="labelInvites"></span></div>
        <div class="progress"><div id="barInvites" class="bar"></div></div>

        <div>ğŸŒ± Ø§Ù„ÙØ§ØµÙˆÙ„ÙŠØ§ <span id="labelBeans"></span></div>
        <div class="progress"><div id="barBeans" class="bar"></div></div>
      </div>

      <div class="features">
        <p><b>Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ø­Ø§Ù„ÙŠ:</b> <span id="modalRank"></span></p>
        <p><b>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:</b> <span id="modalBenefits"></span></p>
        <p><b>Ø§Ù„Ø¨Ø§Ù‚ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ØªØ±Ù‚ÙŠØ©:</b> <span id="modalNext"></span></p>
      </div>
      <button onclick="closeModal()">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
  </div>

  <script>
    const upgrades = [
      {rank:"Ù…Ø¨ØªØ¯Ø¦",min:0,max:10999,benefits:"2% Ù…ÙƒØ§ÙØ£Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø§ØªØ¨",next:"Ù…Ø­ØªØ±Ù",invites:[1,1]},
      {rank:"Ù…Ø­ØªØ±Ù",min:11000,max:49999,benefits:"4% Ù…ÙƒØ§ÙØ£Ø©",next:"VIP",invites:[2,3]},
      {rank:"VIP",min:50000,max:99999,benefits:"6% + ØªØ§Ø¬ 7 Ø£ÙŠØ§Ù…",next:"VIP+",invites:[3,5]},
      {rank:"VIP+",min:100000,max:219999,benefits:"8% + ØªØ§Ø¬ 14 ÙŠÙˆÙ… + 500 ÙØ§ØµÙˆÙ„ÙŠØ§",next:"SVIP",invites:[6,8]},
      {rank:"SVIP",min:220000,max:549999,benefits:"8% + Ø§Ù„ÙÙ‡Ø¯ Ø§Ù„Ù…Ø·Ù„Ù‚",next:"SSVIP",invites:[9,12]},
      {rank:"SSVIP",min:550000,max:999999,benefits:"9% + Ø§Ù„ØµÙ‚Ø± + Ù‚Ø³ÙŠÙ…Ø© 25$",next:"SSVIP Silver",invites:[15,20]},
      {rank:"SSVIP Silver",min:1000000,max:4999999,benefits:"12% + Ù‚Ø³ÙŠÙ…Ø© 100$",next:"SSVIP Gold",invites:[20,20]},
      {rank:"SSVIP Gold",min:5000000,max:10000000,benefits:"15% + Ù‚Ø³ÙŠÙ…Ø© 250$",next:"-",invites:[20,20]}
    ];

    // ØªØ­Ù…ÙŠÙ„ JSON Ù…Ø¹ Ø­Ù„ Ø§Ù„ÙƒØ§Ø´
    fetch("broadcasters.json?nocache=" + Date.now())
      .then(res => res.json())
      .then(data => {
        const tbody = document.querySelector("#broadcasterTable tbody");
        tbody.innerHTML = "";
        data.forEach(b=>{
          let tr = document.createElement("tr");
          tr.dataset.beans = b.beans;
          tr.dataset.hours = b.hours;
          tr.dataset.days = b.days;
          tr.dataset.invites = b.invites;
          tr.innerHTML = `
            <td class="openModal">${b.name}</td>
            <td>${b.uid}</td>
            <td>${b.likee}</td>
          `;
          tbody.appendChild(tr);
        });
        attachModalEvents();
      });

    function attachModalEvents(){
      document.querySelectorAll("#broadcasterTable tbody tr").forEach(row=>{
        row.querySelector(".openModal").addEventListener("click",()=>{
          let name=row.cells[0].innerText;
          let uid=row.cells[1].innerText;
          let likee=row.cells[2].innerText;
          let beans=parseInt(row.dataset.beans);
          let hours=parseInt(row.dataset.hours);
          let days=parseInt(row.dataset.days);
          let invites=parseInt(row.dataset.invites);

          let current=upgrades.find(u=>beans>=u.min && beans<=u.max);
          let next=upgrades.find(u=>u.rank===current.next);

          document.getElementById("modalName").textContent=name;
          document.getElementById("modalUID").textContent=uid;
          document.getElementById("modalLikee").textContent=likee;
          document.getElementById("modalRank").textContent=current.rank;
          document.getElementById("modalBenefits").textContent=current.benefits;

          if(next){
            let remain=next.min-beans;
            document.getElementById("modalNext").textContent=`Ø¨Ø§Ù‚ÙŠ ${remain} ÙØ§ØµÙˆÙ„ÙŠØ§ Ù„Ù„ØªØ±Ù‚ÙŠØ© Ù„Ù€ ${next.rank}`;
            document.getElementById("barBeans").style.width=((beans-current.min)/(next.min-current.min)*100)+"%";
            document.getElementById("labelBeans").textContent=`${beans} / ${next.min}`;
          } else {
            document.getElementById("modalNext").textContent="Ø£Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ ğŸ‰";
            document.getElementById("barBeans").style.width="100%";
            document.getElementById("labelBeans").textContent=`${beans}`;
          }

          document.getElementById("barHours").style.width=(hours/31*100)+"%";
          document.getElementById("labelHours").textContent=`${hours} / 31`;

          document.getElementById("barDays").style.width=(days/11*100)+"%";
          document.getElementById("labelDays").textContent=`${days} / 11`;

          let invitesReq = current.invites ? current.invites[1] : 20;
          document.getElementById("barInvites").style.width=(invites/invitesReq*100)+"%";
          document.getElementById("labelInvites").textContent=`${invites} / ${invitesReq}`;

          document.getElementById("profileModal").style.display="flex";
        });
      });
    }

    function closeModal(){document.getElementById("profileModal").style.display="none";}
    window.onclick=e=>{if(e.target==document.getElementById("profileModal"))closeModal();}
  </script>
</body>
</html>
